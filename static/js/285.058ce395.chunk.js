"use strict";(self.webpackChunkreact_project_01=self.webpackChunkreact_project_01||[]).push([[285],{285:function(e,s,t){t.r(s),t.d(s,{default:function(){return $}});var a="Dialogs_chat__kfTR4",n=t(1413),r=t(2791),i=t(7781),_=t(8687),c="Chat_chat_list__pm5eC",d=function(e){return e.messagesPage.messages},m=function(e){return e.messagesPage.followedUsers},u=function(e){return e.messagesPage.usersOnPageCount},o=function(e){return e.messagesPage.currentUserId},l="ChatItem_chat__item__YYG2+",g="ChatItem_avatar__block__k-1az",h="ChatItem_avatar__block_icon__uASjE",x="ChatItem_chat__item_text_wrap__Uacpl",j="ChatItem_chat__item_name__DzLQ0",f="ChatItem_messege_text__ZH5E-",v="ChatItem_divider__G+JtD",b=t(8987),p=t(184),I=function(e){return(0,p.jsxs)("div",{onClick:function(){return e.getUserMessages(e.id)},children:[(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)("div",{className:g,children:(0,p.jsx)("img",{src:e.photos||b,alt:"avatar",className:h})}),(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)("div",{className:j,children:e.name}),(0,p.jsx)("div",{className:f,children:e.status})]}),(0,p.jsx)("div",{className:f,children:"10:04"})]}),(0,p.jsx)("hr",{className:v})]})},C=t(7652),N=function(e){var s=e.users&&e.users.map((function(s){return(0,p.jsx)(I,{name:s.name,id:s.id,status:s.status,photos:s.photos.small,getUserMessages:e.getUserMessagesTC},s.id)}));return(0,p.jsx)("div",{className:c,children:s})},M=(0,i.qC)((0,_.$j)((function(e){return{users:m(e),usersOnPageCount:u(e)}}),{getFollowedUserTC:C.bL,getUserMessagesTC:C.u0}))((function(e){return(0,r.useEffect)((function(){e.getFollowedUserTC(e.usersOnPageCount)}),[e.users]),(0,p.jsx)(N,(0,n.Z)({},e))})),k=t(3896),y="MessageList_message_block__TL1rs",w="MessageList_message_list__-mgtf",U="MessageList_message_input_block__LiRGo",L="MessageList_message_input_textarea__E5Z-4",P=t(910),E="MessageItem_message__item__PFxWt",T="MessageItem_item__date__eAeAu",Z="MessageItem_message__item_own__PEVF0",A="MessageItem_message__item_friend__o+P1Y",F="MessageItem_message__checker__V5aSl",G="MessageItem_message__checker_viewed__TovG8",S=t(1694),D=t.n(S),O=t(4483),V=t(3174),Y=function(e){var s=e.senderId===e.authId;return(0,p.jsxs)("div",{className:D()(E,s?Z:A),children:[e.body,(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:T,children:e.addedAt}),(0,p.jsx)(O.G,{icon:e.viewed?V.FFp:V.LEp,className:e.viewed?G:F})]})},z=t(9459),R=(0,_.$j)((function(e){return{messages:d(e),currentChatUser:o(e),authId:(0,z.xT)(e)}}),{sendMessage:C.bG})((function(e){console.log(e.messages);var s=e.messages&&e.messages.map((function(s){return(0,p.jsx)(Y,{body:s.body,id:s.id,addedAt:s.addedAt,recipientId:s.recipientId,senderId:s.senderId,senderName:s.senderName,viewed:s.viewed,authId:e.authId},s.id)})),t=(0,k.cI)({defaultValues:{body:""}}),a=t.register,r=t.handleSubmit,i=t.reset,_=t.formState.errors;return(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("div",{className:w,children:s}),(0,p.jsx)("form",{onSubmit:r((function(s){e.sendMessage(e.currentChatUser,s.body),i()})),children:(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)("input",(0,n.Z)((0,n.Z)({},a("body",{maxLength:{value:100,message:"Max length must be 100 symbols"}})),{},{className:"".concat(P.Z.input," ").concat(L),type:"text",name:"body",id:"body",placeholder:"Enter your message here ..."})),(0,p.jsx)("button",{className:P.Z.button,type:"submit",children:"Send"})]})}),_.body&&(0,p.jsx)("div",{children:"Error"})]})})),$=function(){return(0,p.jsxs)("div",{className:a,children:[(0,p.jsx)(M,{}),(0,p.jsx)(R,{})]})}}}]);
//# sourceMappingURL=285.058ce395.chunk.js.map